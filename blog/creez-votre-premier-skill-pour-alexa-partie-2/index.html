<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.eb0e349e256be69b1882.css">code[class*=language-],pre[class*=language-]{color:#c5c8c6;text-shadow:0 1px rgba(0,0,0,.3);font-family:Inconsolata,Monaco,Consolas,Courier New,Courier,monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#1d1f21}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#7c7c7c}.token.punctuation{color:#c5c8c6}.namespace{opacity:.7}.token.keyword,.token.property,.token.tag{color:#96cbfe}.token.class-name{color:#ffffb6;text-decoration:underline}.token.boolean,.token.constant{color:#9c9}.token.deleted,.token.symbol{color:#f92672}.token.number{color:#ff73fd}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a8ff60}.token.variable{color:#c6c5fe}.token.operator{color:#ededed}.token.entity{color:#ffffb6}.token.url{color:#96cbfe}.language-css .token.string,.style .token.string{color:#87c38a}.token.atrule,.token.attr-value{color:#f9ee98}.token.function{color:#dad085}.token.regex{color:#e9c062}.token.important{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}pre[class*=language-].line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}pre[class*=language-].line-numbers>code{position:relative;white-space:inherit}.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:0;font-size:100%;left:-3.8em;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}@font-face{font-family:Nunito;font-style:normal;font-display:swap;font-weight:200;src:local("Nunito Extra Light "),local("Nunito-Extra Light"),url(/static/nunito-latin-200-2a4f4b0a3646be9d8560178ebc4306e5.woff2) format("woff2"),url(/static/nunito-latin-200-249c20ee4450b15795cdde4cbb5f38d8.woff) format("woff")}@font-face{font-family:Nunito;font-style:italic;font-display:swap;font-weight:200;src:local("Nunito Extra Light italic"),local("Nunito-Extra Lightitalic"),url(/static/nunito-latin-200italic-89ba5530f3b2c751f2a49e25f31e3f15.woff2) format("woff2"),url(/static/nunito-latin-200italic-67d3d63c0ac28ccbc0c0fcbda8e66e04.woff) format("woff")}@font-face{font-family:Nunito;font-style:normal;font-display:swap;font-weight:300;src:local("Nunito Light "),local("Nunito-Light"),url(/static/nunito-latin-300-895205e22ad7d4d866df7102352077cd.woff2) format("woff2"),url(/static/nunito-latin-300-cad1324b066f52f764cf080d9244c8b2.woff) format("woff")}@font-face{font-family:Nunito;font-style:italic;font-display:swap;font-weight:300;src:local("Nunito Light italic"),local("Nunito-Lightitalic"),url(/static/nunito-latin-300italic-f4a613c73f19da60cf08aa42b2a9249b.woff2) format("woff2"),url(/static/nunito-latin-300italic-1fde36925a8493f45651815dd89d22a7.woff) format("woff")}@font-face{font-family:Nunito;font-style:normal;font-display:swap;font-weight:400;src:local("Nunito Regular "),local("Nunito-Regular"),url(/static/nunito-latin-400-de6068bf97f40206af0b062e262e6213.woff2) format("woff2"),url(/static/nunito-latin-400-6386ba6af7b7a5480eb5efda82ff803c.woff) format("woff")}@font-face{font-family:Nunito;font-style:italic;font-display:swap;font-weight:400;src:local("Nunito Regular italic"),local("Nunito-Regularitalic"),url(/static/nunito-latin-400italic-6ca737afe5cef0c0a9c9bbfec4e398ff.woff2) format("woff2"),url(/static/nunito-latin-400italic-ef2e2a0d9dd85cf89526d1f27f8fbbef.woff) format("woff")}@font-face{font-family:Nunito;font-style:normal;font-display:swap;font-weight:600;src:local("Nunito SemiBold "),local("Nunito-SemiBold"),url(/static/nunito-latin-600-b10ecee279e3a8d11d5ec3193b68d8bf.woff2) format("woff2"),url(/static/nunito-latin-600-c3de23017bcb95715e6eb11dd6a10fc5.woff) format("woff")}@font-face{font-family:Nunito;font-style:italic;font-display:swap;font-weight:600;src:local("Nunito SemiBold italic"),local("Nunito-SemiBolditalic"),url(/static/nunito-latin-600italic-97d4f64b213f3e5163827754c213bb4e.woff2) format("woff2"),url(/static/nunito-latin-600italic-4f62b81ff327bd0ffadcb7b82e6c13b2.woff) format("woff")}@font-face{font-family:Nunito;font-style:normal;font-display:swap;font-weight:700;src:local("Nunito Bold "),local("Nunito-Bold"),url(/static/nunito-latin-700-91ae827aa880d02ea567979add1da58c.woff2) format("woff2"),url(/static/nunito-latin-700-623f5ed42b0b347fb4531ded4e4b57a2.woff) format("woff")}@font-face{font-family:Nunito;font-style:italic;font-display:swap;font-weight:700;src:local("Nunito Bold italic"),local("Nunito-Bolditalic"),url(/static/nunito-latin-700italic-b94caac4c88b1fe6c4faf6256646f42e.woff2) format("woff2"),url(/static/nunito-latin-700italic-3aabf345871453097c2d8762411d187e.woff) format("woff")}@font-face{font-family:Nunito;font-style:normal;font-display:swap;font-weight:800;src:local("Nunito ExtraBold "),local("Nunito-ExtraBold"),url(/static/nunito-latin-800-36e4c9b478c2e2adb339a76d819eed7e.woff2) format("woff2"),url(/static/nunito-latin-800-33c733aff58ea08126616f346cbf4f4a.woff) format("woff")}@font-face{font-family:Nunito;font-style:italic;font-display:swap;font-weight:800;src:local("Nunito ExtraBold italic"),local("Nunito-ExtraBolditalic"),url(/static/nunito-latin-800italic-0f20328772c0d84250ef397c129607fb.woff2) format("woff2"),url(/static/nunito-latin-800italic-672d2afe4f40a766e46ff95379550c4f.woff) format("woff")}@font-face{font-family:Nunito;font-style:normal;font-display:swap;font-weight:900;src:local("Nunito Black "),local("Nunito-Black"),url(/static/nunito-latin-900-b296e05d0932e16d500b753becdb338e.woff2) format("woff2"),url(/static/nunito-latin-900-cbf4339e858edf2b14d20140b2887343.woff) format("woff")}@font-face{font-family:Nunito;font-style:italic;font-display:swap;font-weight:900;src:local("Nunito Black italic"),local("Nunito-Blackitalic"),url(/static/nunito-latin-900italic-ae87e7b4e2d3825919b9bc6c82039b80.woff2) format("woff2"),url(/static/nunito-latin-900italic-602859bd469800c6205701f5a16b1a1b.woff) format("woff")}code{background-color:rgba(0,0,0,.04)}body{margin:0;font-family:Nunito,Avenir,Helvetica,"sans-serif";-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{font-style:normal;color:rgba(0,0,0,.8);-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.45em georgia,serif;box-sizing:border-box;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{color:rgba(0,0,0,.8);font-weight:400;word-wrap:break-word;-webkit-font-kerning:normal;font-kerning:normal;-ms-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt"}img{max-width:100%;padding:0;margin:0 0 1.45rem}h1{font-size:2.25rem}h1,h2{padding:0;margin:0 0 1.45rem;color:inherit;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h2{font-size:1.62671rem}h3{font-size:1.38316rem}h3,h4{padding:0;margin:0 0 1.45rem;color:inherit;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h4{font-size:1rem}h5{font-size:.85028rem}h5,h6{padding:0;margin:0 0 1.45rem;color:inherit;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h6{font-size:.78405rem}hgroup{padding:0;margin:0 0 1.45rem}ol,ul{padding:0;margin:0 0 1.45rem 1.45rem;list-style-position:outside;list-style-image:none}dd,dl,figure,p{padding:0;margin:0 0 1.45rem}pre{margin:0 0 1.45rem;font-size:.8rem;line-height:1.42;background:rgba(0,0,0,.04);border-radius:3px;overflow:auto;word-wrap:normal;padding:1.45rem}table{font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%}fieldset,table{padding:0;margin:0 0 1.45rem}blockquote{padding:0;margin:0 1.45rem 1.45rem}form,iframe,noscript{padding:0;margin:0 0 1.45rem}hr{padding:0;margin:0 0 calc(1.45rem - 1px);background:rgba(0,0,0,.2);border:none;height:1px}address{padding:0;margin:0 0 1.45rem}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-left:1.45rem;margin-bottom:.725rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.8rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:rgba(0,0,0,.04);border-radius:3px;font-family:SFMono-Regular,Consolas,Roboto Mono,Droid Sans Mono,Liberation Mono,Menlo,Courier,monospace;padding:.2em 0}pre code{background:none;line-height:1.42}code:after,code:before,tt:after,tt:before{letter-spacing:-.2em;content:" "}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}.gatsby-highlight{background-color:#1d1f21;border-radius:.3em;margin:.5em 0;padding:1em;overflow:auto}.gatsby-highlight pre[class*=language-].line-numbers{padding:0 0 0 2.8em;overflow:initial}@media only screen and (max-width:480px){html{font-size:100%}}</style><meta name="generator" content="Gatsby 2.17.11"/><title data-react-helmet="true">Créez votre premier skill pour Alexa : Partie 2, la mise en pratique | Jérémie Zarca</title><meta data-react-helmet="true" name="description" content="Dans cette partie nous allons voir comment créer votre premier skill pour connaître la météo dans n’importe quelle ville d’Europe et à la fin de cet article…"/><meta data-react-helmet="true" property="og:title" content="Créez votre premier skill pour Alexa : Partie 2, la mise en pratique"/><meta data-react-helmet="true" property="og:description" content="Dans cette partie nous allons voir comment créer votre premier skill pour connaître la météo dans n’importe quelle ville d’Europe et à la fin de cet article…"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:image" content="https://jzarca01.github.io/images/social.jpg"/><meta data-react-helmet="true" property="og:url" content="https://jzarca01.github.io/"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content="@Jeremie__"/><meta data-react-helmet="true" name="twitter:title" content="Créez votre premier skill pour Alexa : Partie 2, la mise en pratique"/><meta data-react-helmet="true" name="twitter:description" content="Dans cette partie nous allons voir comment créer votre premier skill pour connaître la météo dans n’importe quelle ville d’Europe et à la fin de cet article…"/><link rel="icon" href="/icons/icon-48x48.png?v=fb68f532b831999108c24e52624a7f95"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=fb68f532b831999108c24e52624a7f95"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=fb68f532b831999108c24e52624a7f95"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=fb68f532b831999108c24e52624a7f95"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=fb68f532b831999108c24e52624a7f95"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=fb68f532b831999108c24e52624a7f95"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=fb68f532b831999108c24e52624a7f95"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=fb68f532b831999108c24e52624a7f95"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=fb68f532b831999108c24e52624a7f95"/><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link as="script" rel="preload" href="/webpack-runtime-ecd7b45a98983a853160.js"/><link as="script" rel="preload" href="/app-1201c880c6bea83590df.js"/><link as="script" rel="preload" href="/styles-e9bd7b5993d301a65cdf.js"/><link as="script" rel="preload" href="/commons-8f74b1a6ff992c16efd8.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-174a37d7c0bc7738d33d.js"/><link as="fetch" rel="preload" href="/page-data/blog/creez-votre-premier-skill-pour-alexa-partie-2/page-data.json" crossorigin="anonymous"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><style data-emotion-css="1pyi7sa">.css-1pyi7sa{background:transparent;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-content:center;-ms-flex-line-pack:center;align-content:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}</style><header class="css-1pyi7sa eal8s4w3"><style data-emotion-css="k1grrt">.css-k1grrt{max-width:860px;padding:1rem 1.0875rem;font-size:1.2rem;}</style><div class="css-k1grrt eal8s4w0"><p><style data-emotion-css="mgegnw">.css-mgegnw{color:black;margin:0 20px;-webkit-text-decoration:none;text-decoration:none;display:inline-block;position:relative;margin-left:0;}.css-mgegnw::after{content:"";position:absolute;width:100%;-webkit-transform:scaleX(0);-ms-transform:scaleX(0);transform:scaleX(0);height:2px;bottom:0;left:0;background-color:rgba(0,0,0,0.8);-webkit-transform-origin:bottom right;-ms-transform-origin:bottom right;transform-origin:bottom right;-webkit-transition:-webkit-transform 0.4s cubic-bezier(0.86,0,0.07,1);-webkit-transition:transform 0.4s cubic-bezier(0.86,0,0.07,1);transition:transform 0.4s cubic-bezier(0.86,0,0.07,1);}.css-mgegnw:hover::after{-webkit-transform:scaleX(1);-ms-transform:scaleX(1);transform:scaleX(1);-webkit-transform-origin:bottom left;-ms-transform-origin:bottom left;transform-origin:bottom left;}</style><a class="css-mgegnw eal8s4w2" href="/">Home</a><style data-emotion-css="728icr">.css-728icr{color:black;margin:0 20px;-webkit-text-decoration:none;text-decoration:none;display:inline-block;position:relative;}.css-728icr::after{content:"";position:absolute;width:100%;-webkit-transform:scaleX(0);-ms-transform:scaleX(0);transform:scaleX(0);height:2px;bottom:0;left:0;background-color:rgba(0,0,0,0.8);-webkit-transform-origin:bottom right;-ms-transform-origin:bottom right;transform-origin:bottom right;-webkit-transition:-webkit-transform 0.4s cubic-bezier(0.86,0,0.07,1);-webkit-transition:transform 0.4s cubic-bezier(0.86,0,0.07,1);transition:transform 0.4s cubic-bezier(0.86,0,0.07,1);}.css-728icr:hover::after{-webkit-transform:scaleX(1);-ms-transform:scaleX(1);transform:scaleX(1);-webkit-transform-origin:bottom left;-ms-transform-origin:bottom left;transform-origin:bottom left;}</style><a class="css-728icr eal8s4w1" href="/blog">Blog</a><a class="css-728icr eal8s4w1" href="/contact">Contact me</a></p></div></header><style data-emotion-css="1813l62">.css-1813l62{margin:0 auto;max-width:860px;padding:0 1.0875rem 1rem;padding-top:0;}</style><div class="css-1813l62 e1qsw1o60"><main><style data-emotion-css="hu0znc">.css-hu0znc{margin:0 auto;max-width:860px;padding:1.45rem 1.0875rem;}</style><div class="css-hu0znc efar48r0"><style data-emotion-css="n1d11z">.css-n1d11z{display:inline;border-radius:1em 0 1em 0;background-image:linear-gradient( -100deg,rgba(255,250,150,0.15),rgba(255,250,150,0.8) 100%,rgba(255,250,150,0.25) );}</style><h1 class="css-n1d11z efar48r1">Créez votre premier skill pour Alexa : Partie 2, la mise en pratique</h1><style data-emotion-css="wvcn4j">.css-wvcn4j{margin-top:10px;color:#606060;}</style><h3 class="css-wvcn4j efar48r2">22 December, 2017<!-- --> - <!-- -->6 min read</h3><style data-emotion-css="1rcp9ax">.css-1rcp9ax a{-webkit-text-decoration:none;text-decoration:none;position:relative;}.css-1rcp9ax a::after{content:"";position:absolute;z-index:-1;top:70%;left:-0.1px;right:-0.1px;bottom:0;-webkit-transition:top 0.1s ease-in-out;transition:top 0.1s ease-in-out;background-color:rgba(255,250,150,0.8);}.css-1rcp9ax a:hover::after{top:0;}</style><div class="css-1rcp9ax efar48r3"><p>Dans cette partie nous allons voir comment créer votre premier skill pour connaître la météo dans n’importe quelle ville d’Europe et à la fin de cet article vous pourrez repartir avec, c’est promis.
​
Maintenant que vous avez assimilé tous les concepts importants associés à la création de skills pour Alexa, nous pouvons enfin rentrer dans le vif du sujet. Si ce n’est pas le cas, n’hésitez surtout pas à relire la première partie de cet article, à cette adresse : <a href="http://localhost:2368/creez-votre-premier-skill-pour-alexa-partie-1/">http://localhost:2368/creez-votre-premier-skill-pour-alexa-partie-1/</a>.
​</p>
<h3>Les pré-requis pour cette partie :</h3>
<ul>
<li>Un compte sur le portail développeur Amazon (<a href="https://developer.amazon.com/edw/home.html#/">https://developer.amazon.com/edw/home.html#/</a>)</li>
<li>Votre environnement de test</li>
<li>Node 6 et npm installés (<a href="https://nodejs.org/">https://nodejs.org/</a>)</li>
<li>Les concepts de base de ES6</li>
<li>Votre éditeur de code favori
​</li>
</ul>
<h2>L’INSTALLATION DES LIBRAIRIES</h2>
<p>​
Ici, on fait au plus simple.</p>
<p>​
<img src="https://i2.wp.com/media.giphy.com/media/wVJYDdgvARMJy/giphy.gif?resize=388%2C220&#x26;ssl=1" alt="easy gif">
​</p>
<div class="gatsby-highlight" data-language="shell"><pre style="counter-reset: linenumber NaN" class="language-shell line-numbers"><code class="language-shell"><span class="token function">mkdir</span> MyAwesomeSkill
<span class="token builtin class-name">cd</span> MyAwesomeSkill
<span class="token function">npm</span> init

<span class="token function">npm</span> <span class="token function">install</span> —save alexa-skill-kit yahoo-weather</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Une petite explication s’impose: Alexa-skill-kit propose une première couche d’abstraction pour la librairie officielle d’Amazon, afin de rendre le développement le plus simple et le plus intuitif possible.
Yahoo-weather, quant à lui, est tout simplement un wrapper pour l’API Météo de Yahoo
​</p>
<p>Pour plus d’informations, vous pouvez consulter les repo <a href="https://github.com/stojanovic/alexa-skill-kit">https://github.com/stojanovic/alexa-skill-kit</a> et <a href="https://github.com/mamal72/node-yahoo-weather">https://github.com/mamal72/node-yahoo-weather</a>
​</p>
<h2>LE CODE</h2>
<p>​
<strong>INDEX.JS</strong></p>
<div class="gatsby-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript"><span class="token keyword">const</span> alexaSkillKit <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'alexa-skill-kit'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> intent <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./lib/Intents'</span><span class="token punctuation">)</span>

exports<span class="token punctuation">.</span><span class="token function-variable function">handler</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alexaSkillKit</span><span class="token punctuation">(</span>event<span class="token punctuation">,</span> context<span class="token punctuation">,</span> <span class="token parameter">parsedMessage</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token comment">// console.log(JSON.stringify(parsedMessage))</span>
        <span class="token keyword">return</span> <span class="token function">intent</span><span class="token punctuation">(</span>parsedMessage<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p><strong>LIB/INTENTS.JS</strong></p>
<div class="gatsby-highlight" data-language="javascript"><pre style="counter-reset: linenumber NaN" class="language-javascript line-numbers"><code class="language-javascript"><span class="token keyword">const</span> weather <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'yahoo-weather'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">parsedMessage</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>parsedMessage<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">'IntentRequest'</span> <span class="token operator">&amp;&amp;</span> parsedMessage<span class="token punctuation">.</span>intent<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'GetWeather'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">weather</span><span class="token punctuation">(</span>parsedMessage<span class="token punctuation">.</span>intent<span class="token punctuation">.</span>slots<span class="token punctuation">.</span>Location<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">info</span> <span class="token operator">=></span> info<span class="token punctuation">.</span>item<span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=></span> item<span class="token punctuation">.</span>condition<span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">condition</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token comment">//console.log('info', condition)</span>
            <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Il fait actuellement </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>condition<span class="token punctuation">.</span>text<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> avec </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>condition<span class="token punctuation">.</span>temp<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> degrés à </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>parsedMessage<span class="token punctuation">.</span>intent<span class="token punctuation">.</span>slots<span class="token punctuation">.</span>Location<span class="token punctuation">.</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hum, je ne trouve aucune donnée pour </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>parsedMessage<span class="token punctuation">.</span>intent<span class="token punctuation">.</span>slots<span class="token punctuation">.</span>Location<span class="token punctuation">.</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.</span><span class="token template-punctuation string">`</span></span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>​
Vous vous souvenez du concept d’Intent, de Slots et d’Utterances, n’est-ce pas ? Si ce n’est pas le cas, je vous invite à relire les sections correspondantes dans la <a href="http://localhost:2368/creez-votre-premier-skill-pour-alexa-partie-1/">première partie de cet article</a>.
​</p>
<p>Dans l’Intent Schema, nous avions défini la fonction GetWeather qui prenait comme Slot un objet Location de type AMAZON.EUROPE_CITY</p>
<div class="gatsby-highlight" data-language="json"><pre style="counter-reset: linenumber NaN" class="language-json line-numbers"><code class="language-json"><span class="token punctuation">{</span>
    <span class="token property">"intents"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">"intent"</span><span class="token operator">:</span> <span class="token string">"GetWeather"</span><span class="token punctuation">,</span>
            <span class="token property">"slots"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    <span class="token string">"name: "</span>Location"<span class="token punctuation">,</span>
                    <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"AMAZON.EUROPE_CITY"</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Et dans le fichier de Sample Utterances, nous décrivions différentes manières d’appeler cette fonction à partir d’Alexa.</p>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset: linenumber NaN" class="language-text line-numbers"><code class="language-text">GetWeather quelle est la météo à {Location}
GetWeather météo à {Location}</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>
<p>Ainsi, lorsque le skill est appelé par l’utilisateur, il saura quelle fonction exécuter.
Lorsque l’utilisateur dira <strong>« Alexa, demande à Mon Super Skill la météo à Paris »</strong>, notre skill renverra <strong>« Il fait actuellement Sunny avec 20 degrés à Paris »</strong>.</p>
<p>​
<img src="https://media.giphy.com/media/g3MjnaLkNl19C/giphy.gif" alt="alexa gif">
​</p>
<p>Il ne vous reste plus qu’à zipper votre projet pour passer à la suite.
​
Petite astuce pour les utilisateurs de Mac et de Linux: à partir de votre terminal, depuis le répertoire du projet, entrez la commande suivante pour zipper le projet.
​</p>
<div class="gatsby-highlight" data-language="shell"><pre style="counter-reset: linenumber NaN" class="language-shell line-numbers"><code class="language-shell"><span class="token function">zip</span> -r <span class="token punctuation">..</span>/MyAwesomeSkill.zip *</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>​
Le code est également disponible à cette adresse : <a href="https://github.com/jzarca01/alexaskill-jsrepublic">https://github.com/jzarca01/alexaskill-jsrepublic</a>
​</p>
<h2>ENVOYEZ LE SKILL SUR LES SERVEURS AMAZON</h2>
<p>Les ressources créées dans Amazon Web Services sont chacune identifiées de façon unique par un Amazon Resource Name (ARN).
Dans cette partie, nous allons créer une fonction Lambda sur les serveurs d’Amazon et y envoyer notre projet compressé.
​
Munissez vous de vos identifiants Amazon Developer et rendez vous à l’adresse suivante : <a href="https://console.aws.amazon.com/?nc2=h_m_mc">https://console.aws.amazon.com/?nc2=h<em>m</em>mc</a>
Puis cliquez en haut à gauche sur « Services » puis « Lambda »</p>
<p>​
￼<img src="https://i1.wp.com/blog.js-republic.com/wp-content/uploads/2017/04/1.png?w=629" alt="alt text" title="Alexa AWS Lambda"></p>
<p>​
Il ne vous reste plus qu’a cliquer sur « Créer une fonction Lambda » puis sélectionner « Fonction vide ».
​
Sélectionnez « Kit Alexa Skills » parmi la liste des déclencheurs.</p>
<p>​
<img src="https://i2.wp.com/blog.js-republic.com/wp-content/uploads/2017/04/2.png?w=912" alt="alt text" title="Alexa Kit AVS Skill">￼</p>
<p>​
C’est dans l’onglet « Configurer une fonction » que notre code sera chargé sur les serveurs Amazon.
Renseignez un nom et choisissez votre environnement d’exécution. Ici, choisissez « NodeJS 6.10 » puisque notre code utilise la syntaxe ES6.
Le nom n’a pas d’importance, il ne sera pas réutilisé plus tard.
​
Puis dans la section suivante, choisissez dans la liste déroulante « Type d’entrée de code » l’option « Charger un fichier ZIP ».</p>
<p>​
<img src="https://i2.wp.com/blog.js-republic.com/wp-content/uploads/2017/04/3.png?w=493" alt="alt text" title="Alexa ZIP">￼</p>
<p>​
<img src="https://i2.wp.com/blog.js-republic.com/wp-content/uploads/2017/04/4.png?w=933" alt="alt text" title="Alexa ZIP Recap"></p>
<p>​
￼Enfin, après la page de récapitulatif, il ne vous reste plus qu’a cliquer sur « Créer la fonction » pour passer à l’étape suivante.
​
Oh et une dernière chose, notez l’adresse ARN de votre fonction, vous en aurez besoin pour la prochaine partie de cette article.
​</p>
<h2>ENREGISTREZ VOTRE SKILL AUPRÈS D’AMAZON</h2>
<p>​
Munissez vous de vos identifiants Amazon Developer et rendez vous à l’adresse suivante : <a href="https://developer.amazon.com/edw/home.html#/skills">https://developer.amazon.com/edw/home.html#/skills</a>
Si jusque là vous n’aviez pas crée votre compte, c’est le moment.</p>
<p>​
<img src="https://i1.wp.com/blog.js-republic.com/wp-content/uploads/2017/04/5.png?w=1202" alt="alt text" title="Alexa Developer Console"></p>
<p>​
Puis cliquez sur le bouton « Add a New Skill » en haut à droite de l’écran.
​
A partir d’ici, vous êtes guidés tout au long du processus pour fournir toutes les informations nécessaires à la configuration de votre nouveau skill.</p>
<p>​
<img src="https://i2.wp.com/blog.js-republic.com/wp-content/uploads/2017/04/6.png?w=642" alt="alt text" title="Alexa Skill Information">￼</p>
<p>​
Dans la section « Interaction Model », vous retrouvez le « Intent Schema » ainsi que les « Sample Utterances » dont nous ne cessons de parler depuis la première partie de cet article.￼</p>
<p>​
<img src="https://i2.wp.com/blog.js-republic.com/wp-content/uploads/2017/04/8.png?w=830" alt="alt text" title="Alexa Sample Utterances"></p>
<p>​
Il est tout à fait possible de créer un skill multilingue, mais nous n’en parlerons pas dans cet article. Si toutefois le sujet vous intéresse, voici le lien vers la documentation officielle (<a href="https://developer.amazon.com/public/solutions/alexa/alexa-skills-kit/docs/developing-skills-in-multiple-languages">https://developer.amazon.com/public/solutions/alexa/alexa-skills-kit/docs/developing-skills-in-multiple-languages</a>)
​
Enfin, dans la section « Configuration », il vous est demandé si votre skill est hébergé sur les serveurs Amazon ou bien sur un serveur privé. Ici, nous avons cherché à aller au plus simple, chez Amazon. C’est là que l’adresse ARN que vous avez notée précédemment servira. Elle indique l’adresse où votre skill est exécuté.</p>
<p>​
￼<img src="https://i1.wp.com/blog.js-republic.com/wp-content/uploads/2017/04/9.png?w=706" alt="alt text" title="Alexa Global Fields ARN"></p>
<p>​
Si tout s’est bien passé, le résultat du simulateur correspondra à ce que nous attendions.</p>
<p>​
￼<img src="https://i1.wp.com/blog.js-republic.com/wp-content/uploads/2017/04/10.png?w=817" alt="alt text" title="Alexa Service Simulator"></p>
<p>​
Une dernière étape pour profiter pleinement de votre skill durement codé, l’activation.
Comme expliqué dans la première partie de cet article, les skills ne sont pas téléchargés sur votre device. Ils sont simplement activés depuis votre dashboard.</p>
<p>Par défaut, votre skill est activé, mais si ce n’était pas le cas, il faudrait vous connecter via l’application mobile Alexa pour l’activer depuis la section ‘Skills’.
​</p>
<p>Et tant qu’ils ne sont pas soumis pour une validation par Amazon, seulement le compte développeur y a accès.
En attendant, libérez votre créativité pour créer des skills toujours plus merveilleux.</p>
<p>​
<img src="https://i1.wp.com/media.giphy.com/media/106holZERgWSFG/giphy.gif?resize=413%2C234&#x26;ssl=1" alt="alexa gif"></p>
<p>​
Merci de m’avoir lu, et si l’article vous a plu, n’hésitez pas à le partager sur les réseaux sociaux.</p></div></div></main><style data-emotion-css="3sl46z">.css-3sl46z{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;bottom:0;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}</style><footer class="css-3sl46z e1qsw1o62">© <!-- -->2021<!-- -->, Built with<!-- --> <style data-emotion-css="o5uqvq">.css-o5uqvq{margin-left:5px;}</style><a href="https://www.gatsbyjs.org" class="css-o5uqvq e1qsw1o61">Gatsby</a></footer></div></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-111460280-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/creez-votre-premier-skill-pour-alexa-partie-2";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-1201c880c6bea83590df.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-174a37d7c0bc7738d33d.js"],"component---src-pages-404-js":["/component---src-pages-404-js-e3b662d2b286f7e35c6f.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js-1b74cb29a78b6fc5b2b9.js"],"component---src-pages-contact-js":["/component---src-pages-contact-js-e3fd78180d9496f99ec9.js"],"component---src-pages-index-js":["/component---src-pages-index-js-08086c514367b1cca0b2.js"]};/*]]>*/</script><script src="/component---src-templates-blog-post-js-174a37d7c0bc7738d33d.js" async=""></script><script src="/commons-8f74b1a6ff992c16efd8.js" async=""></script><script src="/styles-e9bd7b5993d301a65cdf.js" async=""></script><script src="/app-1201c880c6bea83590df.js" async=""></script><script src="/webpack-runtime-ecd7b45a98983a853160.js" async=""></script></body></html>